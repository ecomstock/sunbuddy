(this.webpackJsonpsunbuddy=this.webpackJsonpsunbuddy||[]).push([[0],{34:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return App}));var _Users_eric_dev_personal_sunbuddy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39),_Users_eric_dev_personal_sunbuddy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26),_material_ui_core_CssBaseline__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(58),_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(59),_material_ui_core_Box__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(30),_material_ui_core_Link__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(57),_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(15),_material_ui_core_List__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(60),_material_ui_core_ListItem__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(28),_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(27),_material_ui_core_ListItemAvatar__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(25),_material_ui_icons_WbSunny__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(35),_material_ui_icons_WbSunny__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_material_ui_icons_WbSunny__WEBPACK_IMPORTED_MODULE_13__),_material_ui_icons_WbCloudy__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(36),_material_ui_icons_WbCloudy__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_material_ui_icons_WbCloudy__WEBPACK_IMPORTED_MODULE_14__),_material_ui_icons_Warning__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(37),_material_ui_icons_Warning__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_material_ui_icons_Warning__WEBPACK_IMPORTED_MODULE_15__),_material_ui_icons_DirectionsRun__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(38),_material_ui_icons_DirectionsRun__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_material_ui_icons_DirectionsRun__WEBPACK_IMPORTED_MODULE_16__),_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(7),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(29);function Copyright(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_17__.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Link__WEBPACK_IMPORTED_MODULE_7__.a,{color:"inherit",href:""},"Sunbuddy")," ",(new Date).getFullYear())}var useStyles=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_18__.a)((function(_){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/AtfA8NDgpKA)",backgroundRepeat:"no-repeat",backgroundColor:"dark"===_.palette.type?_.palette.grey[900]:_.palette.grey[50],backgroundSize:"cover",backgroundPosition:"center"},paper:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},avatar:{margin:_.spacing(1),backgroundColor:_.palette.secondary.main},black:{fontWeight:900},light:{fontWeight:300},thin:{fontWeight:100}}}));function App(){var classes=useStyles(),conditions={uv:"hour.uvIndex >= 4",temp:"hour.apparentTemperature < 70 && hour.apparentTemperature > 32",precip:"hour.precipIntensity >= 0.015 && hour.precipProbability >= 0.20"},_useState=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(),_useState2=Object(_Users_eric_dev_personal_sunbuddy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),city=_useState2[0],setCity=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(),_useState4=Object(_Users_eric_dev_personal_sunbuddy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState3,2),currentTemp=_useState4[0],setCurrentTemp=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(),_useState6=Object(_Users_eric_dev_personal_sunbuddy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState5,2),minTemp=_useState6[0],setMinTemp=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(),_useState8=Object(_Users_eric_dev_personal_sunbuddy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState7,2),maxTemp=_useState8[0],setMaxTemp=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(),_useState10=Object(_Users_eric_dev_personal_sunbuddy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState9,2),day=_useState10[0],getDay=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(),_useState12=Object(_Users_eric_dev_personal_sunbuddy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState11,2),daylightHours=_useState12[0],setDaylightHours=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(),_useState14=Object(_Users_eric_dev_personal_sunbuddy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState13,2),exposureTime=_useState14[0],setExposureTime=_useState14[1],_useState15=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(),_useState16=Object(_Users_eric_dev_personal_sunbuddy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState15,2),precipTime=_useState16[0],setPrecipTime=_useState16[1],_useState17=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(),_useState18=Object(_Users_eric_dev_personal_sunbuddy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState17,2),tempTime=_useState18[0],setTempTime=_useState18[1];Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){getNav()}));var getNav=function(){return navigator.geolocation.getCurrentPosition(getLatLon)},getLatLon=function(_){var e={};e.latitude=_.coords.latitude,e.longitude=_.coords.longitude,getCity(e),getWeatherData(e)},getCity=function(_){var e=_.latitude,t=_.longitude,a="https://geocodeapi.p.rapidapi.com/GetLargestCities?latitude=".concat(e,"&longitude=").concat(t,"&range=50000");fetch(a,{method:"GET",headers:{"x-rapidapi-host":"geocodeapi.p.rapidapi.com","x-rapidapi-key":"G0GBgJ6WYSmshKfgZydJ6iBoKrThp11fTNTjsnljvjz33JtipZ"}}).then((function(_){return _.json()})).then((function(_){var e=_[0].City;setCity(e)}))},getWeatherData=function(_){var e=_.latitude,t=_.longitude,a="https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/c9390ab45282a0eb042232d180560a3d/".concat(e,",").concat(t);fetch(a).then((function(_){return _.json()})).then((function(e){exportData(_,e)}))},exportData=function(_,e){var t=getSunData(_),a=Math.round(e.currently.temperature),r=e.daily.data[0],i=e.hourly.data;displayCurrent(a),displayHiLo(r),filterHoursByDay(i,t)},getSunData=function(_){var e=__webpack_require__(53),t=_.latitude,a=_.longitude,r=new Date,i=e.getTimes(r,t,a),n=new Date(r);n.setDate(n.getDate()+1);var c=e.getTimes(n,t,a),E={};return r<i.dusk?(E.day="today",E.date=r,E.dawn=i.dawn,E.dusk=i.dusk):(E.day="tomorrow",E.date=n,E.dawn=c.dawn,E.dusk=c.dusk),displaySunData(E),E},displayCurrent=function(_){return setCurrentTemp(_)},displayHiLo=function(_){var e=Math.round(_.temperatureMin),t=Math.round(_.temperatureMax);setMinTemp(e),setMaxTemp(t)},filterHoursByDay=function(_,e){var t=e.date.getDay(),a=_.filter((function(_){return new Date(1e3*_.time).getDay()===t}));getReadableTime(a,e)},displaySunData=function(_){var e=_.day,t=new Date(_.dawn).toLocaleTimeString([],{timeStyle:"short"}),a=new Date(_.dusk).toLocaleTimeString([],{timeStyle:"short"});getDay(e),setDaylightHours("".concat(t," - ").concat(a))},getReadableTime=function(_){var e=_.map((function(_){return Object(_Users_eric_dev_personal_sunbuddy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_,{time:new Date(1e3*_.time).getHours()})}));filterForCondition(e,conditions.uv,"exposureTime"),filterForCondition(e,conditions.precip,"precipTime"),filterForCondition(e,conditions.temp,"tempTime")},filterForCondition=function filterForCondition(data,condition,field){var filtered=data.filter((function(hour){return eval(condition)}));checkAllDay(data,filtered,field)},checkAllDay=function(_,e,t){e.length===_.length?displayAllDay(t):getFilteredTimes(e,t)},displayAllDay=function(_){switch(_){case"exposureTime":setExposureTime("All day");break;case"precipTime":setPrecipTime("All day");break;case"tempTime":setTempTime("All day")}},getFilteredTimes=function(_,e){var t=_.map((function(_){return _.time}));sortTimes(t,e)},sortTimes=function(_,e){if(0!==_.length){for(var t=(new Date).getHours(),a=_[0],r=a,i=_.length,n="",c=1;c<i;c++)if(_[c]===r+1)r=_[c];else{if(a===r)n+=(a===t?"Until ".concat(convertTime(t+1)):"".concat(convertTime(a)," - ").concat(convertTime(a+1)))+", ";else n+=(a===t?"Until ":"".concat(convertTime(a)," - "))+convertTime(r)+", ";r=a=_[c]}if(a===r){var E=convertTime(a),u=convertTime(a+1);n+="".concat(E," - ").concat(u)}else{n+="".concat(convertTime(a)," - ")+convertTime(r+1)}switch(e){case"exposureTime":setExposureTime(n);break;case"precipTime":setPrecipTime(n);break;case"tempTime":setTempTime(n)}}},convertTime=function(_){var e=_>=12&&_<24?"PM":"AM";return"".concat(_%12||12,":00 ").concat(e)};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_8__.a,{container:!0,component:"main",className:classes.root},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_CssBaseline__WEBPACK_IMPORTED_MODULE_4__.a,null),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_8__.a,{item:!0,xs:!1,sm:4,md:7,className:classes.image}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_8__.a,{item:!0,xs:12,sm:8,md:5,component:_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_5__.a,elevation:6,square:!0},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:classes.paper},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_17__.a,{component:"h1",variant:"overline"},"sunbuddy"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Box__WEBPACK_IMPORTED_MODULE_6__.a,{mt:2},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_17__.a,{className:classes.thin,component:"h2",variant:"h4"},city)),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_17__.a,{component:"h3",variant:"body2"},day),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Box__WEBPACK_IMPORTED_MODULE_6__.a,{mt:2},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_8__.a,{container:!0,alignItems:"center",spacing:1},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_8__.a,{item:!0},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_17__.a,{className:classes.black,component:"p",variant:"body1",color:"primary"},minTemp)),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_8__.a,{item:!0},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_17__.a,{component:"p",variant:"h4"},"today"===day?currentTemp:"/")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_8__.a,{item:!0},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_17__.a,{className:classes.black,component:"p",variant:"body1",color:"error"},maxTemp)))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_List__WEBPACK_IMPORTED_MODULE_9__.a,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_ListItem__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_ListItemAvatar__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_3__.a,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_icons_WbSunny__WEBPACK_IMPORTED_MODULE_13___default.a,null))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_11__.a,{primary:daylightHours,secondary:"Daylight hours"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_ListItem__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_ListItemAvatar__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_3__.a,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_icons_WbCloudy__WEBPACK_IMPORTED_MODULE_14___default.a,null))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_11__.a,{primary:precipTime,secondary:"Significant precipitation is ".concat(precipTime?"":"not"," expected")})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_ListItem__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_ListItemAvatar__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_3__.a,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_icons_Warning__WEBPACK_IMPORTED_MODULE_15___default.a,null))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_11__.a,{primary:exposureTime,secondary:"Sunscreen is ".concat(exposureTime?"advisable":"not necessary")})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_ListItem__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_ListItemAvatar__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_3__.a,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_icons_DirectionsRun__WEBPACK_IMPORTED_MODULE_16___default.a,null))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_11__.a,{primary:tempTime,secondary:"".concat(tempTime?"Favorable temperatures for outdoor exercise":"Extreme temperatures")}))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core_Box__WEBPACK_IMPORTED_MODULE_6__.a,{mt:2},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Copyright,null)))))}},43:function(_,e,t){_.exports=t(55)},48:function(_,e,t){},55:function(_,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),i=t(11),n=t.n(i),c=(t(48),t(34));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(r.a.createElement(c.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(_){_.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.a50b08e4.chunk.js.map